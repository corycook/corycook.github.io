<html>

<head>
    <title>Cory Cook - Resume</title>
    <script src="Template.js"></script>
    <script src="EventModel.js"></script>
    <script type="text/javascript" src="//platform.linkedin.com/in.js">
        api_key:   75nlt470sm98dr
    </script>
    <style>
        ul {
            list-style: none outside;
            padding: 0;
        }
        
        .skill {
            padding: .2em;
        }
        
        body {
            margin: auto;
            width: 600px;
        }
    </style>
</head>

<body>

    <header>
        <h1>Cory Cook</h1>

        <address>
            250 Josefa St. Apt. 203<br />
            San Jose, CA 95110<br />
            Phone: (408) 529-5070<br />
            Email: <a href="mailto:corycook@ieee.org">corycook@ieee.org</a>
        </address>
    </header>

    <main>
        <h2>Work Experience</h2>
        <script type="application/json" data-item="positions">
            ["ul", ["@", ["li", ["b", "@title"], ["i", { "style": "float: right" }, "@startDate - @endDate"], ["div", "@companyName"],
            ["div", "@summary"]]]]
        </script>

        <h2>Education</h2>
        <script type="application/json" data-item="educations">
            ["ul", ["@", ["li", ["b", "@schoolName"], ["i", { "style": "float: right" }, "@startDate - @endDate"], ["div", "@degree in
            @fieldOfStudy, @gpa"]]]]
        </script>

        <h2>Skills</h2>
        <script type="application/json" data-item="skills">
            ["div", ["@", ["span", { "class": "skill", "title": "proficiency: @proficiency / 5" }, "@name"]]]
        </script>
    </main>

    <script>
        var model = new EventModel({
            "[data-item]": {
                "databind": function(event, model) {
                    var item = this.getAttribute("data-item");
                    var list = event.data[item];
                    var t = new Template(JSON.parse(this.innerText));
                    this.parentElement.insertBefore(t.create(list), this);
                }
            }
        });
        model.bind();
        
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "data.json");
        xhr.onreadystatechange = function() {
            if (xhr.readyState == 4 && xhr.status == 200) 
                model.databind(JSON.parse(xhr.responseText));
        }
        xhr.send();
    </script>

</body>


</html>